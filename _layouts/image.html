---
layout: default
---
<article class="prose max-w-4xl mx-auto p-6">
  <header>
    <h1 class="text-4xl font-serif text-dark-text">{{ page.title }}</h1>
    <p class="text-gray-600 mt-2">
      <strong>Description:</strong> {{ page.description }}<br>
      <strong>Source:</strong> {{ page.source }}<br>
      <strong>Tags:</strong> 
      {% for tag in page.tags %}
        <span class="bg-gray-200 text-gray-800 rounded px-2 py-1">{{ tag }}</span>
      {% endfor %}
    </p>
  </header>

<div class="mt-8">
  <image src="{{ page.featured_image }}" alt="{{ page.title }}" class="w-full rounded-lg shadow-lg mb-6">
  {{ content | split: '> ## Commentary by Machine' | first }}
  
  {% if content contains '> ## Commentary by Machine' %}
  <div id="commentary-root"></div>

    <!-- Add the scripts at the end of the body -->
    {% unless page.disable_commentary %}
      <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
      <link href="https://cdnjs.cloudflare.com/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css" rel="stylesheet">
      
      <script src="{{ '/js/commentary-toggle.js' | relative_url }}"></script>
      <script>
        document.addEventListener('DOMContentLoaded', function() {
          const commentaryContent = `{{ content | split: '> ## Commentary from ChatGPT' | last | escape_once }}`;
          const root = document.getElementById('commentary-root');
          createCommentaryToggle(root, commentaryContent);
        });
      </script>
    {% endunless %}
  {% endif %}
</div>  
</article>
